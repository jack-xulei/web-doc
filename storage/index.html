<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>浏览器存储 | Web 培训</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Web 培训">
    
    <link rel="preload" href="/web-doc/assets/css/0.styles.2e97de4d.css" as="style"><link rel="preload" href="/web-doc/assets/js/app.2e12d130.js" as="script"><link rel="preload" href="/web-doc/assets/js/2.6dce8dfd.js" as="script"><link rel="preload" href="/web-doc/assets/js/11.dace8d1d.js" as="script"><link rel="prefetch" href="/web-doc/assets/js/10.6cc34026.js"><link rel="prefetch" href="/web-doc/assets/js/3.2c99a915.js"><link rel="prefetch" href="/web-doc/assets/js/4.e05c873c.js"><link rel="prefetch" href="/web-doc/assets/js/5.f3e6ed41.js"><link rel="prefetch" href="/web-doc/assets/js/6.498ab014.js"><link rel="prefetch" href="/web-doc/assets/js/7.603a5778.js"><link rel="prefetch" href="/web-doc/assets/js/8.19151be2.js"><link rel="prefetch" href="/web-doc/assets/js/9.b9670802.js">
    <link rel="stylesheet" href="/web-doc/assets/css/0.styles.2e97de4d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/web-doc/" class="home-link router-link-active"><!----> <span class="site-name">Web 培训</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/web-doc/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/web-doc/json/" class="nav-link">
  JSON
</a></div><div class="nav-item"><a href="/web-doc/ajax/" class="nav-link">
  Ajax
</a></div><div class="nav-item"><a href="/web-doc/storage/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  浏览器存储
</a></div><div class="nav-item"><a href="http://172.31.75.11/xuleia/zhilink-doc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitLib
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/web-doc/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/web-doc/json/" class="nav-link">
  JSON
</a></div><div class="nav-item"><a href="/web-doc/ajax/" class="nav-link">
  Ajax
</a></div><div class="nav-item"><a href="/web-doc/storage/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  浏览器存储
</a></div><div class="nav-item"><a href="http://172.31.75.11/xuleia/zhilink-doc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitLib
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>浏览器存储</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/web-doc/storage/" aria-current="page" class="active sidebar-link">浏览器存储</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web-doc/storage/#背景" class="sidebar-link">背景</a></li><li class="sidebar-sub-header"><a href="/web-doc/storage/#相同点" class="sidebar-link">相同点</a></li><li class="sidebar-sub-header"><a href="/web-doc/storage/#区别" class="sidebar-link">区别</a></li><li class="sidebar-sub-header"><a href="/web-doc/storage/#使用场景" class="sidebar-link">使用场景</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="浏览器存储"><a href="#浏览器存储" class="header-anchor">#</a> 浏览器存储</h1> <p>我们常见且常用的存储方式主要由两种：<a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Cookie" target="_blank" rel="noopener noreferrer">cookie<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Storage_API" target="_blank" rel="noopener noreferrer">webStorage<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>（localStorage和sessionStorage）。下面我们来一一认识它们</p> <h2 id="背景"><a href="#背景" class="header-anchor">#</a> 背景</h2> <h3 id="cookie"><a href="#cookie" class="header-anchor">#</a> cookie</h3> <p>首先我来说一下<code>cookie</code>，他的意思是小甜饼，顾名思义，<code>cookie</code> 确实非常小，它的大小限制为<code>4KB</code>左右，是网景公司的一位员工在1993年3月的发明。它的主要用途是保存登录信息，比如你登录某个网站可以看到“记住密码”，这通常就是通过在 <code>Cookie</code> 中存入一段识别用户身份的数据来实现的</p> <h3 id="localstorage"><a href="#localstorage" class="header-anchor">#</a> localStorage</h3> <p>其次是<code>localStorage</code>，它是 <code>HTML5</code> 标准中新加入的技术，它并不是什么划时代的新东西。早在 <code>IE 6</code> 时代，就有一个叫 <code>userData</code> 的东西用于本地存储，而当时考虑到浏览器的兼容性，更通用的方案是使用 <code>Flash</code>。而如今，<code>localStorage</code> 已经被大多数浏览器所支持</p> <h3 id="sessionstorage"><a href="#sessionstorage" class="header-anchor">#</a> sessionStorage</h3> <p>它与 <code>localStorage</code> 的接口类似，但保存数据的生命周期与 <code>localStorage</code> 不同。我们都应该知道 <code>Session</code> 这个词的意思，直译过来是“会话”。而 <code>sessionStorage</code> 是一个前端的概念，它只是可以将一部分数据在当前会话中保存下来，刷新页面数据依旧存在。但当页面关闭后，<code>sessionStorage</code> 中的数据就会被清空</p> <h2 id="相同点"><a href="#相同点" class="header-anchor">#</a> 相同点</h2> <ul><li>都是key-value存储</li> <li>都符合<a href="https://developer.mozilla.org/zh-CN/docs/Web/Security/Same-origin_policy" target="_blank" rel="noopener noreferrer">同源策略<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="区别"><a href="#区别" class="header-anchor">#</a> 区别</h2> <h3 id="数据上的生命周期的不同"><a href="#数据上的生命周期的不同" class="header-anchor">#</a> 数据上的生命周期的不同</h3> <ul><li><strong>cookie</strong> 一般由服务器生成，可设置失效时间，如果在浏览器端生成cookie，默认是关闭后失效</li> <li><strong>localStorage</strong> 除非被永久清除，否则永久保存</li> <li><strong>sessionStorage</strong> 仅在当前会话会有效，关闭页面或浏览器后被清除</li></ul> <h3 id="存放数据的大小不同"><a href="#存放数据的大小不同" class="header-anchor">#</a> 存放数据的大小不同</h3> <ul><li><strong>cookie</strong> 一般为4kb</li> <li><strong>localStorage</strong> 一般为5M</li> <li><strong>sessionStorage</strong> 一般为5M</li></ul> <h3 id="与服务器端通信不同"><a href="#与服务器端通信不同" class="header-anchor">#</a> 与服务器端通信不同</h3> <ul><li><strong>cookie</strong> 每次都会携带HTTP头中，如果使用cookie保存过多数据会带来性能问题</li> <li><strong>localStorage和sessionStorage</strong> 仅在客户端（即浏览器）中保存，不参与和服务器的通信</li></ul> <h2 id="使用场景"><a href="#使用场景" class="header-anchor">#</a> 使用场景</h2> <p>因为考虑到每个 <code>HTTP</code> 请求都会带着 <code>Cookie</code> 的信息，所以 <code>Cookie</code> 当然是能精简就精简！比较常用的一个应用场景就是判断用户是否登录。针对登录过的用户，服务器端会在他登录时往 <code>Cookie</code> 中加入一段加密过的唯一辨识单一用户的辨识码，下次只要读取这个值就可以判断当前用户是否登录啦。曾经还使用 <code>Cookie</code> 来保存用户在电商网站的购物车信息，如今有了 <code>localStorage</code>，似乎它在这个方面便可以给 <code>Cookie</code> 放个假了~
而另一方面 <code>localStorage</code> 接替了 <code>Cookie</code> 管理购物车的工作，同时也能胜任其他一些工作。比如<code>HTML5</code>游戏通常会产生一些本地数据，<code>localStorage</code> 则是非常适合做这个工作的。如果遇到一些内容特别多的表单，为了优化用户体验，我们可能要把表单页面拆分成多个子页面，然后按步骤引导用户填写。这时候 <code>sessionStorage</code> 的作用就发挥出来了。</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/web-doc/assets/js/app.2e12d130.js" defer></script><script src="/web-doc/assets/js/2.6dce8dfd.js" defer></script><script src="/web-doc/assets/js/11.dace8d1d.js" defer></script>
  </body>
</html>
